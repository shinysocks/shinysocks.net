<!-- add print media tag -->

<!DOCTYPE html>
<head>
<title>Noah Dinan</title>
<style>
@import url(https://fonts.googleapis.com/css2?family=Fira+Code);
* { font-family: Fira Code, sans-serif;background-color:black;font-weight:bolder; }
img { width:310px;-moz-user-select:none;-webkit-user-select:none;user-select:none; }
div { position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center; }
p { color:#9399b2;display:inline; }
a { color:#b4befe; }
audio { display:none; }
</style>
</head>
<body onload="play()">
  <div>
    <img src="logo.png" />
    <br/>
    <br/>
    <a href="https://github.com/shinysocks">github.com/shinysocks</a>
    <br/><br/>
    <p style="color:#a6e3a1;-moz-user-select:none;-webkit-user-select:none;user-select:none;">$ </p>
    <p>curl shinysocks.net</p>
    <audio id="a" autoplay="true" src="http://localhost:8888/radio"/>
  </div>
</body>
<!-- move frontend code to shell script -->
<script>
    let a = document.getElementById("a")

    a.addEventListener("ended", () => {
        if (!a.onwaiting) play()
    });

    let play = () => {
        fetch('http://localhost:8888/radio/elapsed')
        .then(res => res.json())
        .then(data => {
            a.load()
            a.play()
            a.currentTime = data
        })
    }

</script>
</html>

